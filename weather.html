<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Forecast</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 20px;
        }
        .forecast-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        .forecast-day {
            background-color: #ffffff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            width: 200px;
            text-align: center;
        }
        .forecast-day img {
            margin-top: 10px;
        }
        .forecast-day h3 {
            margin: 0 0 10px 0;
        }
        .forecast-day p {
            margin: 5px 0;
        }
        .clothing {
            font-size: 1.2em;
            margin-top: 10px;
        }
    </style>
</head>
<body>

    <h1>7-Day Weather Forecast</h1>
    <div class="forecast-container" id="forecast-container">
        <!-- Forecast days will be inserted here -->
    </div>

    <script>
        async function wFunc() {

            const weatherData = await fetch('https://9vlieez2ol.execute-api.us-east-1.amazonaws.com/dev/weather', {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json',
                    'x-api-key': 'eZN5qcJrHK1YxzNlOmUnvaXoRE2giYf94x3Y90fD'
                }
            }).then(response => response.json());

            const forecastData = weatherData.body;

            console.log(forecastData);

            const clothingRecommendations = {
                1000: "ðŸ‘•ðŸ©³ðŸ‘Ÿ", // Sunny
                1003: "ðŸ‘•ðŸ‘–ðŸ‘Ÿ", // Partly cloudy
                1006: "ðŸ§¥ðŸ‘–ðŸ‘¢", // Cloudy
                1009: "ðŸ§¥ðŸ‘–ðŸ‘¢", // Overcast
                1030: "ðŸ§¥ðŸ§£ðŸ‘¢", // Mist
                1063: "ðŸ§¥ðŸ‘–ðŸ§¤", // Patchy rain possible
                1066: "ðŸ§¥â„ï¸ðŸ‘¢", // Patchy snow possible
                1069: "ðŸ§¥â„ï¸ðŸ‘¢", // Patchy sleet possible
                1072: "ðŸ§¥â„ï¸ðŸ‘¢", // Patchy freezing drizzle possible
                1087: "ðŸ§¥â›ˆï¸ðŸ‘¢", // Thundery outbreaks possible
                1114: "ðŸ§¥â„ï¸ðŸ‘¢", // Blowing snow
                1117: "ðŸ§¥â„ï¸ðŸ‘¢", // Blizzard
                1135: "ðŸ§¥ðŸ§£ðŸ‘¢", // Fog
                1147: "ðŸ§¥ðŸ§£ðŸ‘¢", // Freezing fog
                1150: "ðŸ§¥ðŸ‘–ðŸ§¤", // Patchy light drizzle
                1153: "ðŸ§¥ðŸ‘–ðŸ§¤", // Light drizzle
                1168: "ðŸ§¥â„ï¸ðŸ‘¢", // Freezing drizzle
                1171: "ðŸ§¥â„ï¸ðŸ‘¢", // Heavy freezing drizzle
                1180: "ðŸ§¥ðŸ‘–ðŸ§¤", // Patchy light rain
                1183: "ðŸ§¥ðŸ‘–ðŸ§¤", // Light rain
                1186: "ðŸ§¥ðŸ‘–ðŸ§¤", // Moderate rain at times
                1189: "ðŸ§¥ðŸ‘–ðŸ§¤", // Moderate rain
                1192: "ðŸ§¥ðŸ‘–ðŸ§¤", // Heavy rain at times
                1195: "ðŸ§¥ðŸ‘–ðŸ§¤", // Heavy rain
                1198: "ðŸ§¥â„ï¸ðŸ‘¢", // Light freezing rain
                1201: "ðŸ§¥â„ï¸ðŸ‘¢", // Moderate or heavy freezing rain
                1204: "ðŸ§¥â„ï¸ðŸ‘¢", // Light sleet
                1207: "ðŸ§¥â„ï¸ðŸ‘¢", // Moderate or heavy sleet
                1210: "ðŸ§¥â„ï¸ðŸ‘¢", // Patchy light snow
                1213: "ðŸ§¥â„ï¸ðŸ‘¢", // Light snow
                1216: "ðŸ§¥â„ï¸ðŸ‘¢", // Patchy moderate snow
                1219: "ðŸ§¥â„ï¸ðŸ‘¢", // Moderate snow
                1222: "ðŸ§¥â„ï¸ðŸ‘¢", // Patchy heavy snow
                1225: "ðŸ§¥â„ï¸ðŸ‘¢", // Heavy snow
                1237: "ðŸ§¥â„ï¸ðŸ‘¢", // Ice pellets
                1240: "ðŸ§¥ðŸ‘–ðŸ§¤", // Light rain shower
                1243: "ðŸ§¥ðŸ‘–ðŸ§¤", // Moderate or heavy rain shower
                1246: "ðŸ§¥ðŸ‘–ðŸ§¤", // Torrential rain shower
                1249: "ðŸ§¥â„ï¸ðŸ‘¢", // Light sleet showers
                1252: "ðŸ§¥â„ï¸ðŸ‘¢", // Moderate or heavy sleet showers
                1255: "ðŸ§¥â„ï¸ðŸ‘¢", // Light snow showers
                1258: "ðŸ§¥â„ï¸ðŸ‘¢", // Moderate or heavy snow showers
                1261: "ðŸ§¥â„ï¸ðŸ‘¢", // Light showers of ice pellets
                1264: "ðŸ§¥â„ï¸ðŸ‘¢", // Moderate or heavy showers of ice pellets
                1273: "ðŸ§¥â›ˆï¸ðŸ‘¢", // Patchy light rain with thunder
                1276: "ðŸ§¥â›ˆï¸ðŸ‘¢", // Moderate or heavy rain with thunder
                1279: "ðŸ§¥â„ï¸â›ˆï¸", // Patchy light snow with thunder
                1282: "ðŸ§¥â„ï¸â›ˆï¸"  // Moderate or heavy snow with thunder
            };

            const container = document.getElementById('forecast-container');

            forecastData.forecast.forecastday.forEach(day => {
                const dayElement = document.createElement('div');
                dayElement.className = 'forecast-day';

                const clothingEmoji = clothingRecommendations[day.day.condition.code] || "ðŸ‘•ðŸ‘–ðŸ‘Ÿ";

                dayElement.innerHTML = `
                    <h3>${day.date}</h3>
                    <img src="https://${day.day.condition.icon}" alt="${day.day.condition.text}">
                    <p><strong>${day.day.condition.text}</strong></p>
                    <p>Max Temp: ${day.day.maxtemp_c}Â°C</p>
                    <p>Min Temp: ${day.day.mintemp_c}Â°C</p>
                    <p>Avg Temp: ${day.day.avgtemp_c}Â°C</p>
                    <p>Max Wind: ${day.day.maxwind_mph} mph</p>
                    <p>Humidity: ${day.day.avghumidity}%</p>
                    <p>UV Index: ${day.day.uv}</p>
                    <div class="clothing">Clothing: ${clothingEmoji}</div>
                `;

                container.appendChild(dayElement);
            });
        }

        wFunc();
    </script>

</body>
</html>
